{"ast":null,"code":"var _jsxFileName = \"/Users/faisalmalik/Desktop/levelupFullstack/levelup/src/Components/Registration.js\";\nimport React, { Component } from \"react\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport { register } from \"./RegistrationStyles\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport { FormControl, Input, InputLabel, Button } from \"@material-ui/core\";\nimport PeopleAltIcon from \"@material-ui/icons/PeopleAlt\";\nimport Snackbar from \"@material-ui/core/Snackbar\";\nimport SnackbarContent from \"@material-ui/core/SnackbarContent\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport ErrorIcon from \"@material-ui/icons/Error\";\nimport VisibilityTwoToneIcon from \"@material-ui/icons/VisibilityTwoTone\";\nimport VisibilityOffTwoToneIcon from \"@material-ui/icons/VisibilityOffTwoTone\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport { Link, Redirect } from \"react-router-dom\";\nimport axios from \"axios\";\nimport validator from \"validator\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Registration extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      name: \"\",\n      email: \"\",\n      password: \"\",\n      password2: \"\",\n      hidePassword: true,\n      error: null,\n      errorOpen: false,\n      redirect: false\n    };\n\n    this.errorClose = e => {\n      this.setState({\n        errorOpen: false\n      });\n    };\n\n    this.handleChange = name => e => {\n      this.setState({\n        [name]: e.target.value\n      });\n    };\n\n    this.passwordMatch = () => this.state.password === this.state.password2;\n\n    this.showPassword = () => {\n      this.setState(prevState => ({\n        hidePassword: !prevState.hidePassword\n      }));\n    };\n\n    this.isValid = () => {\n      if (this.state.email === \"\") {\n        return false;\n      } else if (!validator.isEmail(this.state.email)) {\n        return false;\n      }\n\n      return true;\n    };\n\n    this.submitRegistration = e => {\n      e.preventDefault();\n\n      if (!this.passwordMatch()) {\n        this.setState({\n          errorOpen: true,\n          error: \"Passwords don't match\"\n        });\n      }\n\n      if (!this.isValid()) {\n        this.setState({\n          errorOpen: true,\n          error: \"The Email you entered is not valid\"\n        });\n      }\n\n      const newUserCredentials = {\n        name: this.state.name,\n        email: this.state.email,\n        password: this.state.password,\n        password2: this.state.password2\n      }; // console.log(\"this.props.newUserCredentials\", newUserCredentials);\n\n      axios.post(\"http://localhost:3001/api/users/register\", newUserCredentials).then(res => {\n        this.setState({\n          redirect: true\n        });\n        console.log(res.data);\n      }).catch(error => {\n        console.log(error);\n      });\n    };\n  }\n\n  render() {\n    const {\n      classes\n    } = this.props;\n    const {\n      redirect\n    } = this.state;\n\n    if (redirect) {\n      return /*#__PURE__*/_jsxDEV(Redirect, {\n        to: \"/login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 14\n      }, this);\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.main,\n      children: [/*#__PURE__*/_jsxDEV(CssBaseline, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Paper, {\n        className: classes.paper,\n        children: [/*#__PURE__*/_jsxDEV(Avatar, {\n          className: classes.avatar,\n          children: /*#__PURE__*/_jsxDEV(PeopleAltIcon, {\n            className: classes.icon\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          className: classes.form,\n          onSubmit: () => this.submitRegistration,\n          children: [\" \", /*#__PURE__*/_jsxDEV(FormControl, {\n            required: true,\n            fullWidth: true,\n            margin: \"normal\",\n            children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n              htmlFor: \"name\",\n              className: classes.labels,\n              children: \"name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 115,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Input, {\n              name: \"name\",\n              type: \"name\",\n              autoComplete: \"name\",\n              className: classes.inputs,\n              disableUnderline: true,\n              onChange: this.handleChange(\"name\")\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 118,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n            required: true,\n            fullWidth: true,\n            margin: \"normal\",\n            children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n              htmlFor: \"email\",\n              className: classes.labels,\n              children: \"e-mail\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 128,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Input, {\n              name: \"email\",\n              type: \"email\",\n              autoComplete: \"email\",\n              className: classes.inputs,\n              disableUnderline: true,\n              onChange: this.handleChange(\"email\")\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 131,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n            required: true,\n            fullWidth: true,\n            margin: \"normal\",\n            children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n              htmlFor: \"password\",\n              className: classes.labels,\n              children: \"password\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 141,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Input, {\n              name: \"password\",\n              autoComplete: \"password\",\n              className: classes.inputs,\n              disableUnderline: true,\n              onChange: this.handleChange(\"password\"),\n              type: this.state.hidePassword ? \"password\" : \"input\",\n              endAdornment: this.state.hidePassword ? /*#__PURE__*/_jsxDEV(InputAdornment, {\n                position: \"end\",\n                children: /*#__PURE__*/_jsxDEV(VisibilityOffTwoToneIcon, {\n                  fontSize: \"default\",\n                  className: classes.passwordEye,\n                  onClick: this.showPassword\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 154,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 153,\n                columnNumber: 21\n              }, this) : /*#__PURE__*/_jsxDEV(InputAdornment, {\n                position: \"end\",\n                children: /*#__PURE__*/_jsxDEV(VisibilityTwoToneIcon, {\n                  fontSize: \"default\",\n                  className: classes.passwordEye,\n                  onClick: this.showPassword\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 162,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 161,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 144,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n            required: true,\n            fullWidth: true,\n            margin: \"normal\",\n            children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n              htmlFor: \"password2\",\n              className: classes.labels,\n              children: \"confrim password\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 173,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Input, {\n              name: \"password2\",\n              autoComplete: \"password2\",\n              className: classes.inputs,\n              disableUnderline: true,\n              onClick: this.state.showPassword,\n              onChange: this.handleChange(\"password2\"),\n              type: this.state.hidePassword ? \"password\" : \"input\",\n              endAdornment: this.state.hidePassword ? /*#__PURE__*/_jsxDEV(InputAdornment, {\n                position: \"end\",\n                children: /*#__PURE__*/_jsxDEV(VisibilityOffTwoToneIcon, {\n                  fontSize: \"default\",\n                  className: classes.passwordEye,\n                  onClick: this.showPassword\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 187,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 186,\n                columnNumber: 21\n              }, this) : /*#__PURE__*/_jsxDEV(InputAdornment, {\n                position: \"end\",\n                children: /*#__PURE__*/_jsxDEV(VisibilityTwoToneIcon, {\n                  fontSize: \"default\",\n                  className: classes.passwordEye,\n                  onClick: this.showPassword\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 195,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 194,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 176,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 172,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            disabled: !this.isValid(),\n            disableRipple: true,\n            fullWidth: true,\n            variant: \"outlined\",\n            className: classes.button,\n            type: \"submit\",\n            onClick: this.submitRegistration,\n            children: \"Sign Up\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 205,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Link, {\n            to: \"login\",\n            children: \"Already have an account?\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 216,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 11\n        }, this), this.state.error ? /*#__PURE__*/_jsxDEV(Snackbar, {\n          variant: \"error\",\n          anchorOrigin: {\n            vertical: \"bottom\",\n            horizontal: \"center\"\n          },\n          open: this.state.errorOpen,\n          onClose: this.errorClose,\n          autoHideDuration: 3000,\n          children: /*#__PURE__*/_jsxDEV(SnackbarContent, {\n            className: classes.error,\n            message: /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  marginRight: \"8px\"\n                },\n                children: /*#__PURE__*/_jsxDEV(ErrorIcon, {\n                  fontSize: \"large\",\n                  color: \"error\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 236,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 235,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [\" \", this.state.error, \" \"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 238,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 234,\n              columnNumber: 19\n            }, this),\n            action: [/*#__PURE__*/_jsxDEV(IconButton, {\n              \"aria-label\": \"close\",\n              onClick: this.errorClose,\n              children: /*#__PURE__*/_jsxDEV(CloseIcon, {\n                color: \"error\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 247,\n                columnNumber: 21\n              }, this)\n            }, \"close\", false, {\n              fileName: _jsxFileName,\n              lineNumber: 242,\n              columnNumber: 19\n            }, this)]\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 231,\n            columnNumber: 15\n          }, this)\n        }, this.state.error, false, {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 13\n        }, this) : null]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default withStyles(register)(Registration);","map":{"version":3,"sources":["/Users/faisalmalik/Desktop/levelupFullstack/levelup/src/Components/Registration.js"],"names":["React","Component","withStyles","register","InputAdornment","CssBaseline","Paper","Avatar","FormControl","Input","InputLabel","Button","PeopleAltIcon","Snackbar","SnackbarContent","IconButton","ErrorIcon","VisibilityTwoToneIcon","VisibilityOffTwoToneIcon","CloseIcon","Link","Redirect","axios","validator","Registration","state","name","email","password","password2","hidePassword","error","errorOpen","redirect","errorClose","e","setState","handleChange","target","value","passwordMatch","showPassword","prevState","isValid","isEmail","submitRegistration","preventDefault","newUserCredentials","post","then","res","console","log","data","catch","render","classes","props","main","paper","avatar","icon","form","labels","inputs","passwordEye","button","vertical","horizontal","marginRight"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport { register } from \"./RegistrationStyles\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\n\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport { FormControl, Input, InputLabel, Button } from \"@material-ui/core\";\nimport PeopleAltIcon from \"@material-ui/icons/PeopleAlt\";\nimport Snackbar from \"@material-ui/core/Snackbar\";\nimport SnackbarContent from \"@material-ui/core/SnackbarContent\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport ErrorIcon from \"@material-ui/icons/Error\";\nimport VisibilityTwoToneIcon from \"@material-ui/icons/VisibilityTwoTone\";\nimport VisibilityOffTwoToneIcon from \"@material-ui/icons/VisibilityOffTwoTone\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport { Link, Redirect } from \"react-router-dom\";\nimport axios from \"axios\";\nimport validator from \"validator\";\n\nclass Registration extends Component {\n  state = {\n    name: \"\",\n    email: \"\",\n    password: \"\",\n    password2: \"\",\n    hidePassword: true,\n    error: null,\n    errorOpen: false,\n    redirect: false,\n  };\n\n  errorClose = (e) => {\n    this.setState({\n      errorOpen: false,\n    });\n  };\n\n  handleChange = (name) => (e) => {\n    this.setState({\n      [name]: e.target.value,\n    });\n  };\n\n  passwordMatch = () => this.state.password === this.state.password2;\n\n  showPassword = () => {\n    this.setState((prevState) => ({ hidePassword: !prevState.hidePassword }));\n  };\n\n  isValid = () => {\n    if (this.state.email === \"\") {\n      return false;\n    } else if (!validator.isEmail(this.state.email)) {\n      return false;\n    }\n    return true;\n  };\n  submitRegistration = (e) => {\n    e.preventDefault();\n    if (!this.passwordMatch()) {\n      this.setState({\n        errorOpen: true,\n        error: \"Passwords don't match\",\n      });\n    }\n    if (!this.isValid()) {\n      this.setState({\n        errorOpen: true,\n        error: \"The Email you entered is not valid\",\n      });\n    }\n\n    const newUserCredentials = {\n      name: this.state.name,\n      email: this.state.email,\n      password: this.state.password,\n      password2: this.state.password2,\n    };\n    // console.log(\"this.props.newUserCredentials\", newUserCredentials);\n    axios\n      .post(\"http://localhost:3001/api/users/register\", newUserCredentials)\n      .then((res) => {\n        this.setState({ redirect: true });\n        console.log(res.data);\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  };\n\n  render() {\n    const { classes } = this.props;\n    const { redirect } = this.state;\n\n    if (redirect) {\n      return <Redirect to=\"/login\" />;\n    }\n\n    return (\n      <div className={classes.main}>\n        <CssBaseline />\n\n        <Paper className={classes.paper}>\n          <Avatar className={classes.avatar}>\n            <PeopleAltIcon className={classes.icon} />\n          </Avatar>\n          <form\n            className={classes.form}\n            onSubmit={() => this.submitRegistration}\n          >\n            {\" \"}\n            <FormControl required fullWidth margin=\"normal\">\n              <InputLabel htmlFor=\"name\" className={classes.labels}>\n                name\n              </InputLabel>\n              <Input\n                name=\"name\"\n                type=\"name\"\n                autoComplete=\"name\"\n                className={classes.inputs}\n                disableUnderline={true}\n                onChange={this.handleChange(\"name\")}\n              />\n            </FormControl>\n            <FormControl required fullWidth margin=\"normal\">\n              <InputLabel htmlFor=\"email\" className={classes.labels}>\n                e-mail\n              </InputLabel>\n              <Input\n                name=\"email\"\n                type=\"email\"\n                autoComplete=\"email\"\n                className={classes.inputs}\n                disableUnderline={true}\n                onChange={this.handleChange(\"email\")}\n              />\n            </FormControl>\n            <FormControl required fullWidth margin=\"normal\">\n              <InputLabel htmlFor=\"password\" className={classes.labels}>\n                password\n              </InputLabel>\n              <Input\n                name=\"password\"\n                autoComplete=\"password\"\n                className={classes.inputs}\n                disableUnderline={true}\n                onChange={this.handleChange(\"password\")}\n                type={this.state.hidePassword ? \"password\" : \"input\"}\n                endAdornment={\n                  this.state.hidePassword ? (\n                    <InputAdornment position=\"end\">\n                      <VisibilityOffTwoToneIcon\n                        fontSize=\"default\"\n                        className={classes.passwordEye}\n                        onClick={this.showPassword}\n                      />\n                    </InputAdornment>\n                  ) : (\n                    <InputAdornment position=\"end\">\n                      <VisibilityTwoToneIcon\n                        fontSize=\"default\"\n                        className={classes.passwordEye}\n                        onClick={this.showPassword}\n                      />\n                    </InputAdornment>\n                  )\n                }\n              />\n            </FormControl>\n            <FormControl required fullWidth margin=\"normal\">\n              <InputLabel htmlFor=\"password2\" className={classes.labels}>\n                confrim password\n              </InputLabel>\n              <Input\n                name=\"password2\"\n                autoComplete=\"password2\"\n                className={classes.inputs}\n                disableUnderline={true}\n                onClick={this.state.showPassword}\n                onChange={this.handleChange(\"password2\")}\n                type={this.state.hidePassword ? \"password\" : \"input\"}\n                endAdornment={\n                  this.state.hidePassword ? (\n                    <InputAdornment position=\"end\">\n                      <VisibilityOffTwoToneIcon\n                        fontSize=\"default\"\n                        className={classes.passwordEye}\n                        onClick={this.showPassword}\n                      />\n                    </InputAdornment>\n                  ) : (\n                    <InputAdornment position=\"end\">\n                      <VisibilityTwoToneIcon\n                        fontSize=\"default\"\n                        className={classes.passwordEye}\n                        onClick={this.showPassword}\n                      />\n                    </InputAdornment>\n                  )\n                }\n              />\n            </FormControl>\n            <Button\n              disabled={!this.isValid()}\n              disableRipple\n              fullWidth\n              variant=\"outlined\"\n              className={classes.button}\n              type=\"submit\"\n              onClick={this.submitRegistration}\n            >\n              Sign Up\n            </Button>\n            <Link to=\"login\">Already have an account?</Link>\n          </form>\n\n          {this.state.error ? (\n            <Snackbar\n              variant=\"error\"\n              key={this.state.error}\n              anchorOrigin={{\n                vertical: \"bottom\",\n                horizontal: \"center\",\n              }}\n              open={this.state.errorOpen}\n              onClose={this.errorClose}\n              autoHideDuration={3000}\n            >\n              <SnackbarContent\n                className={classes.error}\n                message={\n                  <div>\n                    <span style={{ marginRight: \"8px\" }}>\n                      <ErrorIcon fontSize=\"large\" color=\"error\" />\n                    </span>\n                    <span> {this.state.error} </span>\n                  </div>\n                }\n                action={[\n                  <IconButton\n                    key=\"close\"\n                    aria-label=\"close\"\n                    onClick={this.errorClose}\n                  >\n                    <CloseIcon color=\"error\" />\n                  </IconButton>,\n                ]}\n              />\n            </Snackbar>\n          ) : null}\n        </Paper>\n      </div>\n    );\n  }\n}\n\nexport default withStyles(register)(Registration);\n"]},"metadata":{},"sourceType":"module"}