{"ast":null,"code":"var _jsxFileName = \"/Users/faisalmalik/Desktop/levelupFullstack/levelup/src/Components/Skill.js\";\nimport React from 'react';\nimport Button from 'react-bootstrap/Button';\nimport { ProgressBar } from 'react-bootstrap';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Skill = ({\n  refreshHandler,\n  text,\n  level,\n  skills,\n  skill,\n  setSkills,\n  percent,\n  setSession,\n  session\n}) => {\n  // These handlers need to be be find&update requests to mongodb\n  // const levelUpHandler = () => {\n  //     setSkills(skills.map((item) => {\n  //         if (item.id === skill.id) {\n  //             if (skill.percent == 90) {\n  //                 return { ...item, percent:0, level:level+1}\n  //             } else {\n  //                 return {\n  //                     ...item, percent:percent+10\n  //                 }\n  //             }\n  //         }\n  //         return item\n  //     }))\n  // }\n  const levelUpHandler = async () => {\n    let data = {\n      _id: skill._id,\n      level: skill.level,\n      percent: skill.percent\n    };\n\n    if (skill.percent == 90) {\n      data.percent = 0;\n      data.level += 1;\n    } else {\n      data.percent += 10;\n    }\n\n    const res = await axios.put(\"http://localhost:3001/api/users/update-skill\", data);\n    res.data.headers['Content-Type'];\n    console.log(res.data.json);\n  }; // useEffect(() => {\n  //     console.log(\"USE EFFECT MOUNTED!!\")\n  //     const fetchSkills = async () => {\n  //       const response = await axios.get('http://localhost:3001/api/users/fetchSkills');\n  //       console.log(\"response: \", response.data)\n  //       setSkills(response.data.filter((skill) => {\n  //           if (skill.user_id == session.user_id) {\n  //             return skill\n  //           }\n  //       }))\n  //     }\n  //     fetchSkills();\n  //   },  [refresh]);\n\n\n  const levelDownHandler = () => {\n    setSkills(skills.map(item => {\n      if (item.id === skill.id) {\n        if (skill.percent == 0 && skill.level > 1) {\n          return { ...item,\n            percent: 90,\n            level: level - 1\n          };\n        } else if (skill.percent == 0 && skill.level == 1) {\n          return item;\n        } else {\n          return { ...item,\n            percent: percent - 10\n          };\n        }\n      }\n\n      return item;\n    }));\n  }; // Add a find and delete handlers for when a user wants to delete a skill\n\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"skill\",\n    children: [/*#__PURE__*/_jsxDEV(Button, {\n      onClick: levelDownHandler,\n      className: \"bar-btn\",\n      children: /*#__PURE__*/_jsxDEV(\"i\", {\n        className: \"fas fa-minus\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"saved-skill\",\n        children: text\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"progressBar\",\n        style: {\n          width: 500\n        },\n        children: /*#__PURE__*/_jsxDEV(ProgressBar, {\n          now: percent,\n          label: `${percent}%`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"level-num\",\n      children: level\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      onClick: levelUpHandler,\n      className: \"bar-btn\",\n      children: /*#__PURE__*/_jsxDEV(\"i\", {\n        className: \"fas fa-plus\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 80,\n    columnNumber: 9\n  }, this);\n};\n\n_c = Skill;\nexport default Skill;\n\nvar _c;\n\n$RefreshReg$(_c, \"Skill\");","map":{"version":3,"sources":["/Users/faisalmalik/Desktop/levelupFullstack/levelup/src/Components/Skill.js"],"names":["React","Button","ProgressBar","axios","Skill","refreshHandler","text","level","skills","skill","setSkills","percent","setSession","session","levelUpHandler","data","_id","res","put","headers","console","log","json","levelDownHandler","map","item","id","width"],"mappings":"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","sourcesContent":["import React from 'react';\nimport Button from 'react-bootstrap/Button';\nimport { ProgressBar } from 'react-bootstrap';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport axios from 'axios';\n\nconst Skill = ({ refreshHandler, text, level, skills, skill, setSkills, percent, setSession, session }) => {\n    // These handlers need to be be find&update requests to mongodb\n    // const levelUpHandler = () => {\n\n    //     setSkills(skills.map((item) => {\n    //         if (item.id === skill.id) {\n    //             if (skill.percent == 90) {\n    //                 return { ...item, percent:0, level:level+1}\n    //             } else {\n    //                 return {\n    //                     ...item, percent:percent+10\n    //                 }\n    //             }\n                \n    //         }\n    //         return item\n    //     }))\n    // }\n    const levelUpHandler =  async () => {\n        let data = {_id:skill._id, level:skill.level, percent:skill.percent}; \n        if (skill.percent == 90) {\n            data.percent = 0\n            data.level += 1\n        } else {\n            data.percent += 10\n        }\n        const res = await axios.put(\"http://localhost:3001/api/users/update-skill\", data)\n        res.data.headers['Content-Type'];\n        console.log(res.data.json)\n        \n        \n    }\n\n\n\n\n    \n    // useEffect(() => {\n    //     console.log(\"USE EFFECT MOUNTED!!\")\n    //     const fetchSkills = async () => {\n    //       const response = await axios.get('http://localhost:3001/api/users/fetchSkills');\n    //       console.log(\"response: \", response.data)\n    //       setSkills(response.data.filter((skill) => {\n    //           if (skill.user_id == session.user_id) {\n    //             return skill\n    //           }\n    //       }))\n    //     }\n    //     fetchSkills();\n        \n    //   },  [refresh]);\n\n    const levelDownHandler = () => {\n        setSkills(skills.map((item) => {\n            if (item.id === skill.id) {\n                if (skill.percent == 0 && skill.level > 1) {\n                    return { ...item, percent:90, level:level-1}\n                } else if (skill.percent == 0 && skill.level == 1) {\n                    return item\n                } else {\n                        return {\n                            ...item, percent:percent-10\n                        }\n                    \n                }\n                \n            }\n            return item\n        }))\n    }\n    // Add a find and delete handlers for when a user wants to delete a skill\n\n    return (\n        <div className='skill'>\n            <Button onClick={levelDownHandler} className='bar-btn'>\n                    <i className='fas fa-minus'></i>\n            </Button>\n            <div>\n             \n                <div className='saved-skill'>\n                    { text }  \n                </div>\n\n                <div className=\"progressBar\" style={{ width:500}}>\n                    <ProgressBar now={percent} label={`${percent}%`}/>\n                </div>\n                \n            </div>\n            <div className='level-num'>\n                { level }\n            </div>\n            <Button onClick={levelUpHandler} className='bar-btn'>\n                    <i className='fas fa-plus'></i>\n            </Button>\n            \n        </div>\n    );\n}\n\n\nexport default Skill;"]},"metadata":{},"sourceType":"module"}