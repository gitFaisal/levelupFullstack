{"ast":null,"code":"var _jsxFileName = \"/Users/faisalmalik/Desktop/levelupFullstack/levelup/src/Components/Skill.js\";\nimport React from 'react';\nimport Button from 'react-bootstrap/Button';\nimport { ProgressBar } from 'react-bootstrap';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Skill = ({\n  text,\n  level,\n  skills,\n  skill,\n  setSkills,\n  percent,\n  setSession,\n  session\n}) => {\n  // These handlers need to be be find&update requests to mongodb\n  // const levelUpHandler = () => {\n  //     setSkills(skills.map((item) => {\n  //         if (item.id === skill.id) {\n  //             if (skill.percent == 90) {\n  //                 return { ...item, percent:0, level:level+1}\n  //             } else {\n  //                 return {\n  //                     ...item, percent:percent+10\n  //                 }\n  //             }\n  //         }\n  //         return item\n  //     }))\n  // }\n  // const levelUpHandler =   () => {\n  // let data = {_id:skill._id, level:skill.level, percent:skill.percent}; \n  // if (skill.percent == 90) {\n  //     data.percent = 0\n  //     data.level += 1\n  // } else {\n  //     data.percent += 10\n  // }\n  //     axios.put(\"http://localhost:3001/api/users/update-skill\", data)\n  //         .then((res, refreshHandler) => {\n  //             console.log(\"LevelupHandler: \", res.data);\n  //             refreshHandler()\n  //         } ).catch((err) => {console.log(err)})\n  // }\n  const levelDownHandler = () => {\n    setSkills(skills.map(item => {\n      if (item.id === skill.id) {\n        if (skill.percent == 0 && skill.level > 1) {\n          return { ...item,\n            percent: 90,\n            level: level - 1\n          };\n        } else if (skill.percent == 0 && skill.level == 1) {\n          return item;\n        } else {\n          return { ...item,\n            percent: percent - 10\n          };\n        }\n      }\n\n      return item;\n    }));\n  };\n\n  const levelUpHandler = () => {\n    let data = {\n      _id: skill._id,\n      level: skill.level,\n      percent: skill.percent\n    };\n\n    if (skill.percent == 90) {\n      data.percent = 0;\n      data.level += 1;\n    } else {\n      data.percent += 10;\n    }\n\n    const updateSkill = async () => {\n      try {\n        const response = await axios.put(\"http://localhost:3001/api/users/update-skill\", data);\n        console.log(\"Leveluphandler res:\", response.data);\n      } catch (error) {\n        console.log(\"Something went wrong:\", error);\n      }\n    };\n\n    console.log(\"LEVEL\");\n    updateSkill();\n    setSession({ ...session,\n      refresh: !session.refresh\n    });\n  }; // Add a find and delete handlers for when a user wants to delete a skill\n\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"skill\",\n    children: [/*#__PURE__*/_jsxDEV(Button, {\n      onClick: levelDownHandler,\n      className: \"bar-btn\",\n      children: /*#__PURE__*/_jsxDEV(\"i\", {\n        className: \"fas fa-minus\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"saved-skill\",\n        children: text\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"progressBar\",\n        style: {\n          width: 500\n        },\n        children: /*#__PURE__*/_jsxDEV(ProgressBar, {\n          now: percent,\n          label: `${percent}%`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"level-num\",\n      children: level\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      onClick: levelUpHandler,\n      className: \"bar-btn\",\n      children: /*#__PURE__*/_jsxDEV(\"i\", {\n        className: \"fas fa-plus\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 95,\n    columnNumber: 9\n  }, this);\n};\n\n_c = Skill;\nexport default Skill;\n\nvar _c;\n\n$RefreshReg$(_c, \"Skill\");","map":{"version":3,"sources":["/Users/faisalmalik/Desktop/levelupFullstack/levelup/src/Components/Skill.js"],"names":["React","Button","ProgressBar","axios","Skill","text","level","skills","skill","setSkills","percent","setSession","session","levelDownHandler","map","item","id","levelUpHandler","data","_id","updateSkill","response","put","console","log","error","refresh","width"],"mappings":"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","sourcesContent":["import React from 'react';\nimport Button from 'react-bootstrap/Button';\nimport { ProgressBar } from 'react-bootstrap';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport axios from 'axios';\n\nconst Skill = ({ text, level, skills, skill, setSkills, percent, setSession, session }) => {\n    // These handlers need to be be find&update requests to mongodb\n    // const levelUpHandler = () => {\n\n    //     setSkills(skills.map((item) => {\n    //         if (item.id === skill.id) {\n    //             if (skill.percent == 90) {\n    //                 return { ...item, percent:0, level:level+1}\n    //             } else {\n    //                 return {\n    //                     ...item, percent:percent+10\n    //                 }\n    //             }\n                \n    //         }\n    //         return item\n    //     }))\n    // }\n    // const levelUpHandler =   () => {\n        // let data = {_id:skill._id, level:skill.level, percent:skill.percent}; \n        // if (skill.percent == 90) {\n        //     data.percent = 0\n        //     data.level += 1\n        // } else {\n        //     data.percent += 10\n        // }\n    //     axios.put(\"http://localhost:3001/api/users/update-skill\", data)\n    //         .then((res, refreshHandler) => {\n    //             console.log(\"LevelupHandler: \", res.data);\n    //             refreshHandler()\n    //         } ).catch((err) => {console.log(err)})\n    \n        \n        \n    // }\n    const levelDownHandler = () => {\n        setSkills(skills.map((item) => {\n            if (item.id === skill.id) {\n                if (skill.percent == 0 && skill.level > 1) {\n                    return { ...item, percent:90, level:level-1}\n                } else if (skill.percent == 0 && skill.level == 1) {\n                    return item\n                } else {\n                        return {\n                            ...item, percent:percent-10\n                        }\n                    \n                }\n                \n            }\n            return item\n        }))\n    }\nconst levelUpHandler = () => {\n    let data = {_id:skill._id, level:skill.level, percent:skill.percent}; \n        if (skill.percent == 90) {\n            data.percent = 0\n            data.level += 1\n        } else {\n            data.percent += 10\n        }\n    const updateSkill = async () => {\n        try {\n            const response = await axios.put(\"http://localhost:3001/api/users/update-skill\", data)\n            console.log(\"Leveluphandler res:\", response.data);\n        } catch (error) {\n            console.log(\"Something went wrong:\", error)\n        }\n            \n    }\n    console.log(\"LEVEL\")\n    updateSkill();\n    setSession({...session, refresh:!session.refresh});\n    \n}\n\n    \n\n\n\n\n    \n   \n\n    \n    // Add a find and delete handlers for when a user wants to delete a skill\n\n    return (\n        <div className='skill'>\n            <Button onClick={levelDownHandler} className='bar-btn'>\n                    <i className='fas fa-minus'></i>\n            </Button>\n            <div>\n             \n                <div className='saved-skill'>\n                    { text }  \n                </div>\n\n                <div className=\"progressBar\" style={{ width:500}}>\n                    <ProgressBar now={percent} label={`${percent}%`}/>\n                </div>\n                \n            </div>\n            <div className='level-num'>\n                { level }\n            </div>\n            <Button onClick={levelUpHandler} className='bar-btn'>\n                    <i className='fas fa-plus'></i>\n            </Button>\n            \n        </div>\n    );\n}\n\n\nexport default Skill;"]},"metadata":{},"sourceType":"module"}