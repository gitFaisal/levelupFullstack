{"ast":null,"code":"import _objectSpread from\"/Users/faisalmalik/Desktop/levelupFullstack/levelup/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"/Users/faisalmalik/Desktop/levelupFullstack/levelup/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/faisalmalik/Desktop/levelupFullstack/levelup/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import{React,useState}from\"react\";import Button from\"react-bootstrap/Button\";import{ProgressBar}from\"react-bootstrap\";import\"bootstrap/dist/css/bootstrap.min.css\";import axios from\"axios\";import{Paper}from\"@material-ui/core\";import\"../App.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Skill=function Skill(_ref){var text=_ref.text,level=_ref.level,skill=_ref.skill,percent=_ref.percent,setSession=_ref.setSession,session=_ref.session;var levelUpHandler=function levelUpHandler(){var data={_id:skill._id,level:skill.level,percent:skill.percent};if(data.percent==90){data.percent=0;data.level+=1;}else{data.percent+=10;}var updateSkill=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.put(\"http://localhost:3001/api/users/update-skill\",data);case 3:response=_context.sent;console.log(\"Leveluphandler res:\",response.data);_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);console.log(\"Something went wrong:\",_context.t0);case 10:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return function updateSkill(){return _ref2.apply(this,arguments);};}();updateSkill();setSession(_objectSpread(_objectSpread({},session),{},{refresh:!session.refresh}));};var levelDownHandler=function levelDownHandler(){var data={_id:skill._id,level:skill.level,percent:skill.percent};if(data.percent==0&&data.level>1){data.level-=1;data.percent=90;}else if(data.percent!=0&&data.skill!=1){data.percent-=10;}var updateSkill=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var response;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return axios.put(\"http://localhost:3001/api/users/update-skill\",data);case 3:response=_context2.sent;_context2.next=9;break;case 6:_context2.prev=6;_context2.t0=_context2[\"catch\"](0);console.log(\"Something went wrong: \",_context2.t0);case 9:case\"end\":return _context2.stop();}}},_callee2,null,[[0,6]]);}));return function updateSkill(){return _ref3.apply(this,arguments);};}();updateSkill();setSession(_objectSpread(_objectSpread({},session),{},{refresh:!session.refresh}));};var deleteHandler=function deleteHandler(){var deleteSkill=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var response;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return axios.delete(\"http://localhost:3001/api/users/skills/\".concat(skill._id));case 3:response=_context3.sent;_context3.next=9;break;case 6:_context3.prev=6;_context3.t0=_context3[\"catch\"](0);console.log(\"Something went wrong: \",_context3.t0);case 9:case\"end\":return _context3.stop();}}},_callee3,null,[[0,6]]);}));return function deleteSkill(){return _ref4.apply(this,arguments);};}();deleteSkill();setSession(_objectSpread(_objectSpread({},session),{},{refresh:!session.refresh}));};return/*#__PURE__*/_jsx(\"div\",{className:\"paper-wrap\",children:/*#__PURE__*/_jsx(Paper,{elevation:3,style:{borderRadius:\"50px\"},children:/*#__PURE__*/_jsxs(\"div\",{className:\"skill\",children:[/*#__PURE__*/_jsx(Button,{onClick:levelDownHandler,className:\"bar-btn\",style:{borderRadius:\"25px\"},children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-minus\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"saved-skill\",children:text}),/*#__PURE__*/_jsx(\"div\",{className:\"progressBar\",children:/*#__PURE__*/_jsx(ProgressBar,{now:percent,label:\"\".concat(percent,\"%\"),style:{borderRadius:\"35px\"}})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"level-num\",children:level}),/*#__PURE__*/_jsx(Button,{onClick:levelUpHandler,className:\"bar-btn\",style:{borderRadius:\"25px\"},children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-plus\"})}),/*#__PURE__*/_jsx(Button,{onClick:deleteHandler,className:\"bar-btn\",style:{backgroundColor:\"red\",borderRadius:\"25px\"},children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-trash\"})})]})})});};export default Skill;","map":{"version":3,"sources":["/Users/faisalmalik/Desktop/levelupFullstack/levelup/src/Components/Skill.js"],"names":["React","useState","Button","ProgressBar","axios","Paper","Skill","text","level","skill","percent","setSession","session","levelUpHandler","data","_id","updateSkill","put","response","console","log","refresh","levelDownHandler","deleteHandler","deleteSkill","delete","borderRadius","backgroundColor"],"mappings":"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","sourcesContent":["import { React, useState } from \"react\";\nimport Button from \"react-bootstrap/Button\";\nimport { ProgressBar } from \"react-bootstrap\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport axios from \"axios\";\nimport { Paper } from \"@material-ui/core\";\nimport \"../App.css\";\n\nconst Skill = ({ text, level, skill, percent, setSession, session }) => {\n  const levelUpHandler = () => {\n    let data = { _id: skill._id, level: skill.level, percent: skill.percent };\n\n    if (data.percent == 90) {\n      data.percent = 0;\n      data.level += 1;\n    } else {\n      data.percent += 10;\n    }\n    const updateSkill = async () => {\n      try {\n        const response = await axios.put(\n          \"http://localhost:3001/api/users/update-skill\",\n          data\n        );\n        console.log(\"Leveluphandler res:\", response.data);\n      } catch (error) {\n        console.log(\"Something went wrong:\", error);\n      }\n    };\n    updateSkill();\n    setSession({ ...session, refresh: !session.refresh });\n  };\n\n  const levelDownHandler = () => {\n    let data = { _id: skill._id, level: skill.level, percent: skill.percent };\n\n    if (data.percent == 0 && data.level > 1) {\n      data.level -= 1;\n      data.percent = 90;\n    } else if (data.percent != 0 && data.skill != 1) {\n      data.percent -= 10;\n    }\n    const updateSkill = async () => {\n      try {\n        const response = await axios.put(\n          \"http://localhost:3001/api/users/update-skill\",\n          data\n        );\n      } catch (error) {\n        console.log(\"Something went wrong: \", error);\n      }\n    };\n    updateSkill();\n    setSession({ ...session, refresh: !session.refresh });\n  };\n\n  const deleteHandler = () => {\n    const deleteSkill = async () => {\n      try {\n        const response = await axios.delete(\n          `http://localhost:3001/api/users/skills/${skill._id}`\n        );\n      } catch (error) {\n        console.log(\"Something went wrong: \", error);\n      }\n    };\n    deleteSkill();\n    setSession({ ...session, refresh: !session.refresh });\n  };\n\n  return (\n    <div className=\"paper-wrap\">\n      <Paper elevation={3} style={{ borderRadius: \"50px\" }}>\n        <div className=\"skill\">\n          <Button\n            onClick={levelDownHandler}\n            className=\"bar-btn\"\n            style={{ borderRadius: \"25px\" }}\n          >\n            <i className=\"fas fa-minus\"></i>\n          </Button>\n          <div>\n            <div className=\"saved-skill\">{text}</div>\n\n            <div className=\"progressBar\">\n              <ProgressBar\n                now={percent}\n                label={`${percent}%`}\n                style={{ borderRadius: \"35px\" }}\n              />\n            </div>\n          </div>\n          <div className=\"level-num\">{level}</div>\n          <Button\n            onClick={levelUpHandler}\n            className=\"bar-btn\"\n            style={{ borderRadius: \"25px\" }}\n          >\n            <i className=\"fas fa-plus\"></i>\n          </Button>\n          <Button\n            onClick={deleteHandler}\n            className=\"bar-btn\"\n            style={{ backgroundColor: \"red\", borderRadius: \"25px\" }}\n          >\n            <i className=\"fas fa-trash\"></i>\n          </Button>\n        </div>\n      </Paper>\n    </div>\n  );\n};\n\nexport default Skill;\n"]},"metadata":{},"sourceType":"module"}