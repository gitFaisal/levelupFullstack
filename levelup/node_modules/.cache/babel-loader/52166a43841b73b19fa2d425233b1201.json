{"ast":null,"code":"import _defineProperty from\"/Users/faisalmalik/Desktop/levelupFullstack/levelup/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/faisalmalik/Desktop/levelupFullstack/levelup/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/faisalmalik/Desktop/levelupFullstack/levelup/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/faisalmalik/Desktop/levelupFullstack/levelup/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/faisalmalik/Desktop/levelupFullstack/levelup/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import{withStyles}from\"@material-ui/core/styles\";import{register}from\"./RegistrationStyles\";import InputAdornment from\"@material-ui/core/InputAdornment\";import CssBaseline from\"@material-ui/core/CssBaseline\";import Paper from\"@material-ui/core/Paper\";import Avatar from\"@material-ui/core/Avatar\";import{FormControl,Input,InputLabel,Button}from\"@material-ui/core\";import PeopleAltIcon from\"@material-ui/icons/PeopleAlt\";import Snackbar from\"@material-ui/core/Snackbar\";import SnackbarContent from\"@material-ui/core/SnackbarContent\";import IconButton from\"@material-ui/core/IconButton\";import ErrorIcon from\"@material-ui/icons/Error\";import VisibilityTwoToneIcon from\"@material-ui/icons/VisibilityTwoTone\";import VisibilityOffTwoToneIcon from\"@material-ui/icons/VisibilityOffTwoTone\";import CloseIcon from\"@material-ui/icons/Close\";import{Link,Redirect}from\"react-router-dom\";import axios from\"axios\";import validator from\"validator\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Registration=/*#__PURE__*/function(_Component){_inherits(Registration,_Component);var _super=_createSuper(Registration);function Registration(){var _this;_classCallCheck(this,Registration);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={name:\"\",email:\"\",password:\"\",password2:\"\",hidePassword:true,error:null,errorOpen:false,redirect:false};_this.errorClose=function(e){_this.setState({errorOpen:false});};_this.handleChange=function(name){return function(e){_this.setState(_defineProperty({},name,e.target.value));};};_this.passwordMatch=function(){return _this.state.password===_this.state.password2;};_this.showPassword=function(){_this.setState(function(prevState){return{hidePassword:!prevState.hidePassword};});};_this.isValid=function(){if(_this.state.email===\"\"){return false;}else if(!validator.isEmail(_this.state.email)){return false;}return true;};_this.submitRegistration=function(e){e.preventDefault();if(!_this.passwordMatch()){_this.setState({errorOpen:true,error:\"Passwords don't match\"});}if(!_this.isValid()){_this.setState({errorOpen:true,error:\"The Email you entered is not valid\"});}var newUserCredentials={name:_this.state.name,email:_this.state.email,password:_this.state.password,password2:_this.state.password2};// console.log(\"this.props.newUserCredentials\", newUserCredentials);\naxios.post(\"http://localhost:3001/api/users/register\",newUserCredentials).then(function(res){_this.setState({redirect:true});console.log(res.data);}).catch(function(error){console.log(error);alert(\"The email you used already exist!\");});};return _this;}_createClass(Registration,[{key:\"render\",value:function render(){var _this2=this;var classes=this.props.classes;var redirect=this.state.redirect;if(redirect){return/*#__PURE__*/_jsx(Redirect,{to:\"/login\"});}return/*#__PURE__*/_jsxs(\"div\",{className:classes.main,children:[/*#__PURE__*/_jsx(CssBaseline,{}),/*#__PURE__*/_jsxs(Paper,{className:classes.paper,children:[/*#__PURE__*/_jsx(Avatar,{className:classes.avatar,children:/*#__PURE__*/_jsx(PeopleAltIcon,{className:classes.icon})}),/*#__PURE__*/_jsxs(\"form\",{className:classes.form,onSubmit:function onSubmit(){return _this2.submitRegistration;},children:[\" \",/*#__PURE__*/_jsxs(FormControl,{required:true,fullWidth:true,margin:\"normal\",children:[/*#__PURE__*/_jsx(InputLabel,{htmlFor:\"name\",className:classes.labels,children:\"name\"}),/*#__PURE__*/_jsx(Input,{name:\"name\",type:\"name\",autoComplete:\"name\",className:classes.inputs,disableUnderline:true,onChange:this.handleChange(\"name\")})]}),/*#__PURE__*/_jsxs(FormControl,{required:true,fullWidth:true,margin:\"normal\",children:[/*#__PURE__*/_jsx(InputLabel,{htmlFor:\"email\",className:classes.labels,children:\"e-mail\"}),/*#__PURE__*/_jsx(Input,{name:\"email\",type:\"email\",autoComplete:\"email\",className:classes.inputs,disableUnderline:true,onChange:this.handleChange(\"email\")})]}),/*#__PURE__*/_jsxs(FormControl,{required:true,fullWidth:true,margin:\"normal\",children:[/*#__PURE__*/_jsx(InputLabel,{htmlFor:\"password\",className:classes.labels,children:\"password\"}),/*#__PURE__*/_jsx(Input,{name:\"password\",autoComplete:\"password\",className:classes.inputs,disableUnderline:true,onChange:this.handleChange(\"password\"),type:this.state.hidePassword?\"password\":\"input\",endAdornment:this.state.hidePassword?/*#__PURE__*/_jsx(InputAdornment,{position:\"end\",children:/*#__PURE__*/_jsx(VisibilityOffTwoToneIcon,{fontSize:\"default\",className:classes.passwordEye,onClick:this.showPassword})}):/*#__PURE__*/_jsx(InputAdornment,{position:\"end\",children:/*#__PURE__*/_jsx(VisibilityTwoToneIcon,{fontSize:\"default\",className:classes.passwordEye,onClick:this.showPassword})})})]}),/*#__PURE__*/_jsxs(FormControl,{required:true,fullWidth:true,margin:\"normal\",children:[/*#__PURE__*/_jsx(InputLabel,{htmlFor:\"password2\",className:classes.labels,children:\"confrim password\"}),/*#__PURE__*/_jsx(Input,{name:\"password2\",autoComplete:\"password2\",className:classes.inputs,disableUnderline:true,onClick:this.state.showPassword,onChange:this.handleChange(\"password2\"),type:this.state.hidePassword?\"password\":\"input\",endAdornment:this.state.hidePassword?/*#__PURE__*/_jsx(InputAdornment,{position:\"end\",children:/*#__PURE__*/_jsx(VisibilityOffTwoToneIcon,{fontSize:\"default\",className:classes.passwordEye,onClick:this.showPassword})}):/*#__PURE__*/_jsx(InputAdornment,{position:\"end\",children:/*#__PURE__*/_jsx(VisibilityTwoToneIcon,{fontSize:\"default\",className:classes.passwordEye,onClick:this.showPassword})})})]}),/*#__PURE__*/_jsx(Button,{disabled:!this.isValid(),disableRipple:true,fullWidth:true,variant:\"outlined\",className:classes.button,type:\"submit\",onClick:this.submitRegistration,children:\"Sign Up\"}),/*#__PURE__*/_jsx(Link,{to:\"login\",children:\"Already have an account?\"})]}),this.state.error?/*#__PURE__*/_jsx(Snackbar,{variant:\"error\",anchorOrigin:{vertical:\"bottom\",horizontal:\"center\"},open:this.state.errorOpen,onClose:this.errorClose,autoHideDuration:3000,children:/*#__PURE__*/_jsx(SnackbarContent,{className:classes.error,message:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{style:{marginRight:\"8px\"},children:/*#__PURE__*/_jsx(ErrorIcon,{fontSize:\"large\",color:\"error\"})}),/*#__PURE__*/_jsxs(\"span\",{children:[\" \",this.state.error,\" \"]})]}),action:[/*#__PURE__*/_jsx(IconButton,{\"aria-label\":\"close\",onClick:this.errorClose,children:/*#__PURE__*/_jsx(CloseIcon,{color:\"error\"})},\"close\")]})},this.state.error):null]})]});}}]);return Registration;}(Component);export default withStyles(register)(Registration);","map":{"version":3,"sources":["/Users/faisalmalik/Desktop/levelupFullstack/levelup/src/Components/Registration.js"],"names":["React","Component","withStyles","register","InputAdornment","CssBaseline","Paper","Avatar","FormControl","Input","InputLabel","Button","PeopleAltIcon","Snackbar","SnackbarContent","IconButton","ErrorIcon","VisibilityTwoToneIcon","VisibilityOffTwoToneIcon","CloseIcon","Link","Redirect","axios","validator","Registration","state","name","email","password","password2","hidePassword","error","errorOpen","redirect","errorClose","e","setState","handleChange","target","value","passwordMatch","showPassword","prevState","isValid","isEmail","submitRegistration","preventDefault","newUserCredentials","post","then","res","console","log","data","catch","alert","classes","props","main","paper","avatar","icon","form","labels","inputs","passwordEye","button","vertical","horizontal","marginRight"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport { register } from \"./RegistrationStyles\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\n\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport { FormControl, Input, InputLabel, Button } from \"@material-ui/core\";\nimport PeopleAltIcon from \"@material-ui/icons/PeopleAlt\";\nimport Snackbar from \"@material-ui/core/Snackbar\";\nimport SnackbarContent from \"@material-ui/core/SnackbarContent\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport ErrorIcon from \"@material-ui/icons/Error\";\nimport VisibilityTwoToneIcon from \"@material-ui/icons/VisibilityTwoTone\";\nimport VisibilityOffTwoToneIcon from \"@material-ui/icons/VisibilityOffTwoTone\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport { Link, Redirect } from \"react-router-dom\";\nimport axios from \"axios\";\nimport validator from \"validator\";\n\nclass Registration extends Component {\n  state = {\n    name: \"\",\n    email: \"\",\n    password: \"\",\n    password2: \"\",\n    hidePassword: true,\n    error: null,\n    errorOpen: false,\n    redirect: false,\n  };\n\n  errorClose = (e) => {\n    this.setState({\n      errorOpen: false,\n    });\n  };\n\n  handleChange = (name) => (e) => {\n    this.setState({\n      [name]: e.target.value,\n    });\n  };\n\n  passwordMatch = () => this.state.password === this.state.password2;\n\n  showPassword = () => {\n    this.setState((prevState) => ({ hidePassword: !prevState.hidePassword }));\n  };\n\n  isValid = () => {\n    if (this.state.email === \"\") {\n      return false;\n    } else if (!validator.isEmail(this.state.email)) {\n      return false;\n    }\n    return true;\n  };\n  submitRegistration = (e) => {\n    e.preventDefault();\n    if (!this.passwordMatch()) {\n      this.setState({\n        errorOpen: true,\n        error: \"Passwords don't match\",\n      });\n    }\n    if (!this.isValid()) {\n      this.setState({\n        errorOpen: true,\n        error: \"The Email you entered is not valid\",\n      });\n    }\n\n    const newUserCredentials = {\n      name: this.state.name,\n      email: this.state.email,\n      password: this.state.password,\n      password2: this.state.password2,\n    };\n    // console.log(\"this.props.newUserCredentials\", newUserCredentials);\n    axios\n      .post(\"http://localhost:3001/api/users/register\", newUserCredentials)\n      .then((res) => {\n        this.setState({ redirect: true });\n        console.log(res.data);\n      })\n      .catch((error) => {\n        console.log(error);\n        alert(\"The email you used already exist!\");\n      });\n  };\n\n  render() {\n    const { classes } = this.props;\n    const { redirect } = this.state;\n\n    if (redirect) {\n      return <Redirect to=\"/login\" />;\n    }\n\n    return (\n      <div className={classes.main}>\n        <CssBaseline />\n\n        <Paper className={classes.paper}>\n          <Avatar className={classes.avatar}>\n            <PeopleAltIcon className={classes.icon} />\n          </Avatar>\n          <form\n            className={classes.form}\n            onSubmit={() => this.submitRegistration}\n          >\n            {\" \"}\n            <FormControl required fullWidth margin=\"normal\">\n              <InputLabel htmlFor=\"name\" className={classes.labels}>\n                name\n              </InputLabel>\n              <Input\n                name=\"name\"\n                type=\"name\"\n                autoComplete=\"name\"\n                className={classes.inputs}\n                disableUnderline={true}\n                onChange={this.handleChange(\"name\")}\n              />\n            </FormControl>\n            <FormControl required fullWidth margin=\"normal\">\n              <InputLabel htmlFor=\"email\" className={classes.labels}>\n                e-mail\n              </InputLabel>\n              <Input\n                name=\"email\"\n                type=\"email\"\n                autoComplete=\"email\"\n                className={classes.inputs}\n                disableUnderline={true}\n                onChange={this.handleChange(\"email\")}\n              />\n            </FormControl>\n            <FormControl required fullWidth margin=\"normal\">\n              <InputLabel htmlFor=\"password\" className={classes.labels}>\n                password\n              </InputLabel>\n              <Input\n                name=\"password\"\n                autoComplete=\"password\"\n                className={classes.inputs}\n                disableUnderline={true}\n                onChange={this.handleChange(\"password\")}\n                type={this.state.hidePassword ? \"password\" : \"input\"}\n                endAdornment={\n                  this.state.hidePassword ? (\n                    <InputAdornment position=\"end\">\n                      <VisibilityOffTwoToneIcon\n                        fontSize=\"default\"\n                        className={classes.passwordEye}\n                        onClick={this.showPassword}\n                      />\n                    </InputAdornment>\n                  ) : (\n                    <InputAdornment position=\"end\">\n                      <VisibilityTwoToneIcon\n                        fontSize=\"default\"\n                        className={classes.passwordEye}\n                        onClick={this.showPassword}\n                      />\n                    </InputAdornment>\n                  )\n                }\n              />\n            </FormControl>\n            <FormControl required fullWidth margin=\"normal\">\n              <InputLabel htmlFor=\"password2\" className={classes.labels}>\n                confrim password\n              </InputLabel>\n              <Input\n                name=\"password2\"\n                autoComplete=\"password2\"\n                className={classes.inputs}\n                disableUnderline={true}\n                onClick={this.state.showPassword}\n                onChange={this.handleChange(\"password2\")}\n                type={this.state.hidePassword ? \"password\" : \"input\"}\n                endAdornment={\n                  this.state.hidePassword ? (\n                    <InputAdornment position=\"end\">\n                      <VisibilityOffTwoToneIcon\n                        fontSize=\"default\"\n                        className={classes.passwordEye}\n                        onClick={this.showPassword}\n                      />\n                    </InputAdornment>\n                  ) : (\n                    <InputAdornment position=\"end\">\n                      <VisibilityTwoToneIcon\n                        fontSize=\"default\"\n                        className={classes.passwordEye}\n                        onClick={this.showPassword}\n                      />\n                    </InputAdornment>\n                  )\n                }\n              />\n            </FormControl>\n            <Button\n              disabled={!this.isValid()}\n              disableRipple\n              fullWidth\n              variant=\"outlined\"\n              className={classes.button}\n              type=\"submit\"\n              onClick={this.submitRegistration}\n            >\n              Sign Up\n            </Button>\n            <Link to=\"login\">Already have an account?</Link>\n          </form>\n\n          {this.state.error ? (\n            <Snackbar\n              variant=\"error\"\n              key={this.state.error}\n              anchorOrigin={{\n                vertical: \"bottom\",\n                horizontal: \"center\",\n              }}\n              open={this.state.errorOpen}\n              onClose={this.errorClose}\n              autoHideDuration={3000}\n            >\n              <SnackbarContent\n                className={classes.error}\n                message={\n                  <div>\n                    <span style={{ marginRight: \"8px\" }}>\n                      <ErrorIcon fontSize=\"large\" color=\"error\" />\n                    </span>\n                    <span> {this.state.error} </span>\n                  </div>\n                }\n                action={[\n                  <IconButton\n                    key=\"close\"\n                    aria-label=\"close\"\n                    onClick={this.errorClose}\n                  >\n                    <CloseIcon color=\"error\" />\n                  </IconButton>,\n                ]}\n              />\n            </Snackbar>\n          ) : null}\n        </Paper>\n      </div>\n    );\n  }\n}\n\nexport default withStyles(register)(Registration);\n"]},"metadata":{},"sourceType":"module"}