{"ast":null,"code":"import _defineProperty from\"/Users/faisalmalik/Desktop/levelupFullstack/levelup/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/faisalmalik/Desktop/levelupFullstack/levelup/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/faisalmalik/Desktop/levelupFullstack/levelup/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import{withStyles}from\"@material-ui/core/styles\";import{login}from\"./LoginStyles\";import{Link,useHistory}from\"react-router-dom\";import axios from\"axios\";import InputAdornment from\"@material-ui/core/InputAdornment\";import CssBaseline from\"@material-ui/core/CssBaseline\";import Paper from\"@material-ui/core/Paper\";import Avatar from\"@material-ui/core/Avatar\";import{FormControl,Input,InputLabel,Button}from\"@material-ui/core\";import PeopleAltIcon from\"@material-ui/icons/PeopleAlt\";import VisibilityTwoToneIcon from\"@material-ui/icons/VisibilityTwoTone\";import VisibilityOffTwoToneIcon from\"@material-ui/icons/VisibilityOffTwoTone\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Login=function Login(props){var _useState=useState({email:\"\",password:\"\",hidePassword:true}),_useState2=_slicedToArray(_useState,2),loginInfo=_useState2[0],setLoginInfo=_useState2[1];var history=useHistory();var handleChange=function handleChange(name){return function(e){setLoginInfo(_objectSpread(_objectSpread({},loginInfo),{},_defineProperty({},name,e.target.value)));};};var showPassword=function showPassword(){setLoginInfo({hidePassword:!loginInfo.hidePassword});};var isValid=function isValid(){if(loginInfo.email===\"\"){return false;}else if(loginInfo.password===\"\"){return false;}return true;};var loginHandler=function loginHandler(e){e.preventDefault();var userInfo={email:loginInfo.email,password:loginInfo.password};axios.post(\"http://localhost:3001/api/users/login\",userInfo).then(function(res){localStorage.setItem(\"user_id\",res.data.user_id);props.userAuth(res.data);history.push(\"/\");props.refreshHandler();}).catch(function(error){console.log(error);});};var classes=props.classes;return/*#__PURE__*/_jsxs(\"div\",{className:classes.main,children:[/*#__PURE__*/_jsx(CssBaseline,{}),/*#__PURE__*/_jsxs(Paper,{className:classes.paper,children:[/*#__PURE__*/_jsx(Avatar,{className:classes.avatar,children:/*#__PURE__*/_jsx(PeopleAltIcon,{className:classes.icon})}),/*#__PURE__*/_jsxs(\"form\",{className:classes.form,onSubmit:loginHandler// add on submit handler\n,children:[/*#__PURE__*/_jsxs(FormControl,{required:true,fullWidth:true,margin:\"normal\",children:[/*#__PURE__*/_jsx(InputLabel,{htmlFor:\"email\",className:classes.labels,children:\"e-mail\"}),/*#__PURE__*/_jsx(Input,{name:\"email\",type:\"email\",autoComplete:\"email\",className:classes.inputs,disableUnderline:true,onChange:handleChange(\"email\")})]}),/*#__PURE__*/_jsxs(FormControl,{required:true,fullWidth:true,margin:\"normal\",children:[/*#__PURE__*/_jsx(InputLabel,{htmlFor:\"password\",className:classes.labels,children:\"password\"}),/*#__PURE__*/_jsx(Input,{name:\"password\",autoComplete:\"password\",className:classes.inputs,disableUnderline:true,onChange:handleChange(\"password\"),type:loginInfo.hidePassword?\"password\":\"input\",endAdornment:loginInfo.hidePassword?/*#__PURE__*/_jsx(InputAdornment,{position:\"end\",children:/*#__PURE__*/_jsx(VisibilityOffTwoToneIcon,{fontSize:\"default\",className:classes.passwordEye,onClick:showPassword})}):/*#__PURE__*/_jsx(InputAdornment,{position:\"end\",children:/*#__PURE__*/_jsx(VisibilityTwoToneIcon,{fontSize:\"default\",className:classes.passwordEye,onClick:showPassword})})})]}),/*#__PURE__*/_jsx(Button,{disabled:!isValid(),disableRipple:true,fullWidth:true,variant:\"outlined\",className:classes.button,type:\"submit\",onClick:loginHandler,children:\"Log In\"}),/*#__PURE__*/_jsx(Link,{to:\"/register\",children:\"Don't have an account yet?\"})]})]})]});};export default withStyles(login)(Login);","map":{"version":3,"sources":["/Users/faisalmalik/Desktop/levelupFullstack/levelup/src/Components/Logins.js"],"names":["React","useState","withStyles","login","Link","useHistory","axios","InputAdornment","CssBaseline","Paper","Avatar","FormControl","Input","InputLabel","Button","PeopleAltIcon","VisibilityTwoToneIcon","VisibilityOffTwoToneIcon","Login","props","email","password","hidePassword","loginInfo","setLoginInfo","history","handleChange","name","e","target","value","showPassword","isValid","loginHandler","preventDefault","userInfo","post","then","res","localStorage","setItem","data","user_id","userAuth","push","refreshHandler","catch","error","console","log","classes","main","paper","avatar","icon","form","labels","inputs","passwordEye","button"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport { login } from \"./LoginStyles\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport axios from \"axios\";\n\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport { FormControl, Input, InputLabel, Button } from \"@material-ui/core\";\nimport PeopleAltIcon from \"@material-ui/icons/PeopleAlt\";\nimport VisibilityTwoToneIcon from \"@material-ui/icons/VisibilityTwoTone\";\nimport VisibilityOffTwoToneIcon from \"@material-ui/icons/VisibilityOffTwoTone\";\n\nconst Login = (props) => {\n  const [loginInfo, setLoginInfo] = useState({\n    email: \"\",\n    password: \"\",\n    hidePassword: true,\n  });\n\n  let history = useHistory();\n\n  const handleChange = (name) => (e) => {\n    setLoginInfo({\n      ...loginInfo,\n      [name]: e.target.value,\n    });\n  };\n\n  const showPassword = () => {\n    setLoginInfo({ hidePassword: !loginInfo.hidePassword });\n  };\n\n  const isValid = () => {\n    if (loginInfo.email === \"\") {\n      return false;\n    } else if (loginInfo.password === \"\") {\n      return false;\n    }\n    return true;\n  };\n  const loginHandler = (e) => {\n    e.preventDefault();\n    const userInfo = {\n      email: loginInfo.email,\n      password: loginInfo.password,\n    };\n    axios\n      .post(\"http://localhost:3001/api/users/login\", userInfo)\n      .then((res) => {\n        localStorage.setItem(\"user_id\", res.data.user_id);\n        props.userAuth(res.data);\n        history.push(\"/\");\n        props.refreshHandler();\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  };\n\n  const { classes } = props;\n\n  return (\n    <div className={classes.main}>\n      <CssBaseline />\n\n      <Paper className={classes.paper}>\n        <Avatar className={classes.avatar}>\n          <PeopleAltIcon className={classes.icon} />\n        </Avatar>\n\n        <form\n          className={classes.form}\n          onSubmit={loginHandler}\n          // add on submit handler\n        >\n          <FormControl required fullWidth margin=\"normal\">\n            <InputLabel htmlFor=\"email\" className={classes.labels}>\n              e-mail\n            </InputLabel>\n            <Input\n              name=\"email\"\n              type=\"email\"\n              autoComplete=\"email\"\n              className={classes.inputs}\n              disableUnderline={true}\n              onChange={handleChange(\"email\")}\n            />\n          </FormControl>\n          <FormControl required fullWidth margin=\"normal\">\n            <InputLabel htmlFor=\"password\" className={classes.labels}>\n              password\n            </InputLabel>\n            <Input\n              name=\"password\"\n              autoComplete=\"password\"\n              className={classes.inputs}\n              disableUnderline={true}\n              onChange={handleChange(\"password\")}\n              type={loginInfo.hidePassword ? \"password\" : \"input\"}\n              endAdornment={\n                loginInfo.hidePassword ? (\n                  <InputAdornment position=\"end\">\n                    <VisibilityOffTwoToneIcon\n                      fontSize=\"default\"\n                      className={classes.passwordEye}\n                      onClick={showPassword}\n                    />\n                  </InputAdornment>\n                ) : (\n                  <InputAdornment position=\"end\">\n                    <VisibilityTwoToneIcon\n                      fontSize=\"default\"\n                      className={classes.passwordEye}\n                      onClick={showPassword}\n                    />\n                  </InputAdornment>\n                )\n              }\n            />\n          </FormControl>\n\n          <Button\n            disabled={!isValid()}\n            disableRipple\n            fullWidth\n            variant=\"outlined\"\n            className={classes.button}\n            type=\"submit\"\n            onClick={loginHandler}\n          >\n            Log In\n          </Button>\n          <Link to=\"/register\">Don't have an account yet?</Link>\n        </form>\n      </Paper>\n    </div>\n  );\n};\n\nexport default withStyles(login)(Login);\n"]},"metadata":{},"sourceType":"module"}